<v-area-blocker [showLoader]="_widgetService.showSectionLoader" [message]="_widgetService.sectionBlockerMessage">
  <div class="vTranscodingProfilesFlavorsHolder">
    <div class="vTranscodingProfilesFlavorsTableHeader">
      <span class="vTotalFlavorsCount" *ngIf="_widgetService.flavors.length">
       {{'applications.settings.transcoding.flavors.flavors' | translate: [_widgetService.flavors.length]}}
      </span>

      <div class="vBulkOperations" [class.vHidden]="!_widgetService.selectedFlavors.length">
        <span class="vSelectedFlavorsLabel">
          â€¢ {{ 'applications.settings.transcoding.flavors.selected' | translate: [_widgetService.selectedFlavors.length]}}
        </span>
      </div>
    </div>

    <vTranscodingProfileFalvorsTable
      class="vTranscodingProfilesFlavorsTable"
      [flavors]="_widgetService.flavors"
      [isNewProfile]="_widgetService.isNewData"
      (selectedFlavorsChange)="_widgetService.updateSelectionState()"
      (editFlavor)="_editFlavor($event)"
      [(selectedFlavors)]="_widgetService.selectedFlavors">
    </vTranscodingProfileFalvorsTable>
  </div>
</v-area-blocker>


<vPopupWidget #editMediaProfileFlavor
              data-aid="editMediaProfileFlavor"
              [popupWidth]="792"
              [popupHeight]="571"
              [modal]="true"
              [closeOnClickOutside]="false"
              [preventPageScroll]="true">
  <ng-template>
    <vEditMediaFlavor [parentPopupWidget]="editMediaProfileFlavor"
                      [profile]="_widgetService.data"
                      [flavor]="_selectedFlavor"
                      (saveFlavor)="_widgetService.updateFlavorAssetParams($event)"></vEditMediaFlavor>
  </ng-template>
</vPopupWidget>

<vPopupWidget #editLiveProfileFlavor
              data-aid="editLiveProfileFlavor"
              [popupWidth]="586"
              [popupHeight]="353"
              [modal]="true"
              [closeOnClickOutside]="false"
              [preventPageScroll]="true">
  <ng-template>
    <vEditLiveFlavor [parentPopupWidget]="editLiveProfileFlavor"
                     [profile]="_widgetService.data"
                     [flavor]="_selectedFlavor"
                     (saveFlavor)="_widgetService.updateFlavorAssetParams($event)"></vEditLiveFlavor>
  </ng-template>
</vPopupWidget>
