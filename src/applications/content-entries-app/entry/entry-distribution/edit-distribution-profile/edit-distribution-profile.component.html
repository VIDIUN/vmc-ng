<div class="kEditDistributionProfileWrap">
  <div class="kFloater">
    <div class="kHeader">
      <span class="kTitle">{{_profile?.name}}</span>
      <div class="kButtons">
        <a class="kCancel" (click)="parentPopup.close()">
          {{'applications.content.entryDetails.distribution.cancel' | translate}}
        </a>
        <button type="button"
                class="kButtonBranded"
                [disabled]="true"
                pButton
                [label]="_addButtonLabel"></button>
      </div>
    </div>
    <div class="kContainer">
      <form>
        <div class="kRow kFirstRow">
          <span class="kLabel">{{'applications.content.entryDetails.distribution.form.status' | translate}}</span>
          <span class="kReadonlyData" *ngIf="_forDistribution">
            <i class="kIconinactive"></i>
            {{'applications.content.entryDetails.distribution.status.notDistributed' | translate}}
          </span>
        </div>

        <div class="kRow">
          <span class="kLabel">{{'applications.content.entryDetails.distribution.form.updates' | translate}}</span>
          <p-checkbox [label]="'applications.content.entryDetails.distribution.form.updateAutomatically' | translate"
                      binary="true"></p-checkbox>
        </div>

        <div *ngIf="!_forDistribution">
          <div class="kRow">
            <span class="kLabel">{{'applications.content.entryDetails.distribution.form.lastUpdate' | translate}}</span>
            <span class="kReadonlyData">
              {{_profile?.updatedAt | kDate:'short'}}
            </span>
          </div>

          <div class="kRow">
            <span class="kLabel">{{'applications.content.entryDetails.distribution.form.remoteId' | translate}}</span>
            <span class="kReadonlyData">
              {{_profile?.remoteId}}
            </span>
          </div>
        </div>

        <div class="kRow">
          <span class="kLabel">{{'applications.content.entryDetails.distribution.form.startDate' | translate}}</span>
          <p-calendar class="kControl kDateControl" [readonlyInput]="true" [showIcon]="true"
                      [monthNavigator]="true" [yearNavigator]="true" icon="kIconcalendar" ></p-calendar>
        </div>

        <div class="kRow">
          <span class="kLabel">{{'applications.content.entryDetails.distribution.form.endDate' | translate}}</span>
          <p-calendar class="kControl kDateControl" [readonlyInput]="true" [showIcon]="true"
                      [monthNavigator]="true" [yearNavigator]="true" icon="kIconcalendar"></p-calendar>
        </div>

        <h2 class="kFormHeader">{{'applications.content.entryDetails.distribution.form.metadata' | translate}}</h2>
        <div class="kRow kFirstRow">
          <span class="kLabel">{{'applications.content.entryDetails.distribution.form.name' | translate}}</span>
          <span>
            <input pInputText class="kControl kMetadataControl" [disabled]="true" [value]="entry?.name">
          </span>
        </div>

        <div class="kRow">
          <span class="kLabel">{{'applications.content.entryDetails.distribution.form.updates' | translate}}</span>
          <span>
            <textarea pInputText class="kControl KTextArea" [disabled]="true" [value]="entry?.description"></textarea>
          </span>
        </div>

        <div class="kRow">
          <span class="kLabel">{{'applications.content.entryDetails.distribution.form.tags' | translate}}</span>
          <span class="kControl">
            <kAutoComplete [multiple]="true"></kAutoComplete>
          </span>
        </div>
      </form>

      <h2 class="kFormHeader">{{'applications.content.entryDetails.distribution.form.videoFlavors' | translate}}</h2>
      <div class="kFlavor" *ngFor="let flavor of _requiredFlavors">
        <div class="kFlavorInfo">
          <i class="kIconplayback-file kFlavorIcon"></i>
          <span class="kFlavorName">{{flavor.name}}</span>
        </div>
        <div class="kFlavorMetadata">
          <span *ngIf="flavor.status === ''" class="kFlavorMissingMetadata">
            <i class="kIconwarning kFlavorMissingIcon"></i>
            {{'applications.content.entryDetails.distribution.form.missingFlavor' | translate}}
          </span>
          <span *ngIf="flavor.status !== ''">
            {{'applications.content.entryDetails.distribution.form.format'| translate:[flavor.format]}}
            <span class="kFlavorMetadataDelimiter"></span>
            {{'applications.content.entryDetails.distribution.form.codec'| translate:[flavor.codec]}}
            <span class="kFlavorMetadataDelimiter"></span>
            {{flavor.bitrate}}
            <span class="kFlavorMetadataDelimiter"></span>
            {{flavor.size}}
            <span class="kFlavorMetadataDelimiter"></span>
            {{flavor.dimensions}}
          </span>
        </div>
      </div>

      <h2 class="kFormHeader">{{'applications.content.entryDetails.distribution.form.thumbnail' | translate}}</h2>
    </div>
  </div>
</div>
