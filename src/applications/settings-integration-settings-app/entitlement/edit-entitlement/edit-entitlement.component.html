<v-area-blocker [showLoader]="_isBusy" [message]="_blockerMessage">
  <form [formGroup]="editEntitlementForm" novalidate class="vContent">
    <div class="vContent vOverrideFAIcons">
      <span
        class="vTitle">{{'applications.settings.integrationSettings.entitlement.editEntitlement.title' | translate}}</span>
      <div class="vContainer">
        <div class="vRow">
          <span class="vLabel">{{'applications.settings.integrationSettings.entitlement.editEntitlement.categoryName' | translate}}</span>
            <span class="vControl vLabel vCategoryName">
                {{entitlement.name}}
            </span>
        </div>
        <div class="vRow">
          <span class="vLabel">{{'applications.settings.integrationSettings.entitlement.editEntitlement.privacyContextLabel' | translate}}</span>
          <div>
            <input class="vControl" formControlName="privacyContextLabel" pInputText
                   [ngClass]="{'vHasError':!editEntitlementForm.controls['privacyContextLabel'].valid &&
                   editEntitlementForm.controls['privacyContextLabel'].touched}">
            <div *ngIf="editEntitlementForm.controls['privacyContextLabel'].touched &&
                 editEntitlementForm.controls['privacyContextLabel'].hasError('required')"
                 class="error">
              {{'applications.settings.integrationSettings.entitlement.editEntitlement.errors.privacyContextLabelRequired'
              | translate}}
            </div>
            <div *ngIf="editEntitlementForm.controls['privacyContextLabel'].touched &&
                        editEntitlementForm.controls['privacyContextLabel'].hasError('privacyContextLabelPattern')"
                 class="error">
              {{editEntitlementForm.controls['privacyContextLabel'].hasError('privacyContextTooShort') ?
                ('applications.settings.integrationSettings.entitlement.editEntitlement.errors.privacyContextLabelTooShort' | translate) :
                'applications.settings.integrationSettings.entitlement.editEntitlement.errors.privacyContextLabelRegex' | translate }}
            </div>
          </div>
        </div>

      </div>
      <div class="vFooter">
        <button type="button" class="vButtonDefault" [disabled]="false" (click)="ownerPopup?.close()" pButton label="{{'app.common.cancel' | translate}}"></button>
        <button type="button" class="vButtonBranded" pButton label="{{'app.common.apply' | translate}}" (click)="_apply()"  [disabled]="!editEntitlementForm.valid || editEntitlementForm.pristine"></button>
      </div>
    </div>
  </form>
</v-area-blocker>
