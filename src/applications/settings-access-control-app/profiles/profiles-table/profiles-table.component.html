<k-area-blocker [showLoader]="(_store.profiles.state$ | async)?.loading || this._deferredLoading"
                [message]="_blockerMessage">
  <div class="kAccessControlProfilesTable" [class.noResults]="!_profiles?.length">
    <p-dataTable #dataTable
                 kStickyHeader
                 dataKey="id"
                 scrollable="true"
                 scrollHeight="100%"
                 sticksTo="profilesFilters"
                 stickyClass="stickyHeader"
                 stickyId="accessControlProfileTable"
                 [value]="_profiles"
                 [emptyMessage]="_emptyMessage"
                 [rowTrackBy]="rowTrackBy"
                 [sortField]="filter.sortBy"
                 (selectionChange)="_onSelectionChange($event)"
                 (onSort)="_onSortChanged($event)"
                 [(selection)]="selectedProfiles">
      <p-column [style]="{'width':'44px', 'padding-left': '14px'}"
                selectionMode="multiple"></p-column>

      <p-column field="name"
                [header]="'applications.settings.accessControl.table.name' | translate">
        <ng-template let-col let-profile="rowData" pTemplate="body">
          <span class="kAccessControlProfileTableName">{{ profile[col.field] }}</span>
        </ng-template>
      </p-column>

      <p-column field="id"
                [header]="'applications.settings.accessControl.table.id' | translate"></p-column>

      <p-column field="createdOn"
                [header]="'applications.settings.accessControl.table.createdOn' | translate"
                [sortable]="'custom'">
        <ng-template let-col let-profile="rowData" pTemplate="body">
          <span>{{ profile[col.field] | kDate }}</span>
        </ng-template>
      </p-column>

      <p-column field="domain"
                [header]="'applications.settings.accessControl.table.domain' | translate">
        <ng-template let-col let-profile="rowData" pTemplate="body">
          <span>{{ profile[col.field] }}</span>
        </ng-template>
      </p-column>

      <p-column field="countries"
                [header]="'applications.settings.accessControl.table.countries' | translate">
        <ng-template let-col let-profile="rowData" pTemplate="body">
          <span>{{ profile[col.field] }}</span>
        </ng-template>
      </p-column>

      <p-column field="ips"
                [header]="'applications.settings.accessControl.table.ips' | translate">
        <ng-template let-col let-profile="rowData" pTemplate="body">
          <span>{{ profile[col.field] }}</span>
        </ng-template>
      </p-column>

      <p-column field="flavors"
                [header]="'applications.settings.accessControl.table.flavors' | translate"></p-column>

      <p-column field="advancedSecurity"
                [header]="'applications.settings.accessControl.table.advancedSecurity' | translate"></p-column>

      <p-column header="" [style]="{'overflow':'visible', 'width':'80px'}">
        <ng-template let-col let-profile="rowData" pTemplate="body">
          <div class="kAccessControlProfilesTableActions">
            <button type="button" pButton icon="kIconmore" (click)="_openActionsMenu($event, profile)"></button>
          </div>
        </ng-template>
      </p-column>
      <ng-template let-car pTemplate="rowexpansion">
        <h1>IT WORKS!</h1>
      </ng-template>
    </p-dataTable>
    <p-menu #actionsmenu popup="popup" [model]="_items" [appendTo]="'body'" kMenuCloseOnScroll></p-menu>
  </div>
</k-area-blocker>
